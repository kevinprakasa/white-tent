{"version":3,"sources":["assets/left-chevron.png","assets/location-pin.svg","util/utils.tsx","util/constants.tsx","components/BackButton/index.tsx","containers/OrderPage/index.tsx"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","d","SvgLocationPin","_ref","svgRef","title","titleId","props","id","enableBackground","height","viewBox","width","xmlns","ref","ForwardRef","formatRupiah","angka","prefix","number_string","toString","sisa","rupiah","substr","ribuan","match","separator","join","LOCAL_CART_KEY","LOCAL_CART_SHOP_KEY","BackButton","history","useHistory","className","src","BackImg","alt","onClick","goBack","OrderPage","SHOP_FEE","useState","orderItemObjList","setOrderItemObjList","subtotalPrice","setSubtotalPrice","totalSaved","setTotalSaved","useParams","shopName","shopCategory","shopPhotoUrl","address","distance","shopState","setShopState","useEffect","successCallback","res","name","photo_url","categories","failedCallback","err","console","log","navigator","geolocation","getCurrentPosition","pos","coords","longitude","latitude","getShopDetail","enableHighAccuracy","warn","orderData","localStorage","getItem","total_saved","orderDataObj","JSON","parse","orderItemList","productId","original_price","discount_price","orderAmount","Number","push","orientation","shape","style","href","data","border","item","dataItem","idx","header","textTransform","margin","footer","boxShadow","menu","forEach","product_name","product_id","total_amount","payload","shop_name","shop_id","total_price","total_save","createOrder","removeItem","transactionID","order_id","error"],"mappings":"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","file":"static/js/8.c80f13f6.chunk.js","sourcesContent":["export default \"data:image/png;base64,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mvlDKeXvt9vtv68+BKAUATAMERBBBADDEAADEQERRAAwBAEwGBEQQQQAlxMAAxIBEUQAcCkBMCgREEEEAJcRAAMTARFEAHAJATA4ERBBBADdCYAJiIAIIgDoSgBMQgREEAFANwJgIiIggggAuhAAkxEBEUQA0JwAmJAIiCACgKYEwKREQAQRADQjACYmAiKIAKAJATA5ERBBBADVCYAFiIAIIgCoSgAsQgREEAFANQJgISIggggAqhAAixEBEUQAcJoAWJAIiCACgFMEwKJEQAQRABwmABYmAiKIAOAQAbA4ERBBBAC7CYAAIiCCCAB2EQAhREAEEQBsJgCCiIAIIgDYRACEEQERRADwJQEQSAREEAHAWwIglAiIIAKAlwRAMBEQQQQATwmAcCIggggAPhEAiIAMIgD4gQCglCICQogA4IMA4IMIiCACgFKKAOAnIiCCCAAEAJ+JgAgiAMIJAJ4SARFEAAQTALwkAiKIAAglAHhLBEQQARBIAPAlERBBBEAYAcAmIiCCCIAgAoDNREAEEQAhBAC7iIAIIgACCAB2EwERRAAsTgBwiAiIIAJgYQKAw0RABBEAixIAnCICIogAWJAA4DQREEEEwGIEAFWIgAgiABYiAKhGBEQQAbAIAUBVIiCCCIAFCACqEwERRABMTgDQhAiIIAJgYgKAZkRABBEAkxIANCUCIogAmJAAoDkREEEEwGQEAF2IgAgiACYiAOhGBEQQATAJAUBXIiCCCIAJCAC6EwERRAAMTgBwCREQQQTAwAQAlxEBEUQADEoAcCkREEEEwIAEAJcTARFEAAxGADAEERBBBMBABADDEAERRAAMQgAwFBEQQQTAAAQAwxEBEUQAXEwAMCQREEEEwIUEAMMSARFEAFxEADA0ERBBBMAFBADDEwERRAB0JgCYggiIIAKgIwHANERABBEAnQgApiICIogA6EAAMB0REEEEQGMCgCmJgAgiABoSAExLBEQQAdCIAGBqIiCCCIAGBADTEwERRABUJgBYggiIIAKgIgHAMkRABBEAlQgAliICIogAqEAAsBwREEEEwEkCgCWJgAgiAE4QACxLBEQQAXCQAGBpIiCCCIADBADLEwERRADsJACIIAIiiADYQQAQQwREEAGwkQAgigiIIAJgAwFAHBEQQQTAFwQAkURABBEAbwgAYomACCIAXhAARBMBEUQAPCEAiCcCIogA+IkAgCICQogA+I4AgG9EQAQRAN8IAPiOCIggAqAIAPhEBEQQAcQTAPCECIggAogmAOAFERBBBBBLAMAbIiCCCCCSAIAviIAIIoA4AgA2EAERRABRBABsJAIiiABiCADYQQREEAFEEACwkwiIIAJYngCAA0RABBHA0gQAHCQCIogAliUA4AQREEEEsCQBACeJgAgigOUIAKhABEQQASxFAEAlIiCCCGAZAgAqEgERRABLEABQmQiIIAKYngCABkRABBHA1AQANCICIogApiUAoCEREEEEMCUBAI2JgAgigOkIAOhABEQQAUxFAEAnIiCCCGAaAgA6EgERRABTEADQmQiIIAIYngCAC4iACCKAoQkAuIgIiCACGJYAgAuJgAgigCEJALiYCIggAhiOAIABiIAIIoChCAAYhAiIIAIYhgCAgYiACCKAIQgAGIwIiCACuJwAgAGJgAgigEsJABiUCIggAriMAICBiYAIIoBLCAAYnAiIIALoTgDABERABBFAVwIAJiECIogAuhEAMBEREEEE0IUAgMmIgAgigOYEAExIBEQQATQlAGBSIiCCCKAZAQATEwERRABNCACYnAiIIAKoTgDAAkRABBFAVQIAFiECIogAqhEAsBAREEEEUIUAgMWIgAgigNMEACxIBEQQAZwiAGBRIiCCCOAwAQALEwERRACHCABYnAiIIALYTQBAABEQQQSwiwCAECIggghgMwEAQURABBHAJgIAwoiACCKALwkACCQCIogA3hIAEEoERBABvCQAIJgIiCACeEoAQDgREEEE8IkAAERABhHADwQAUEoRASFEAB8EAPBBBEQQAZRSBADwExEQQQQgAIDPREAEERBOAABPiYAIIiCYAABeEgERREAoAQC8JQIiiIBAAgD4kgiIIALCCABgExEQQQQEEQDAZiIggggIIQCAXURABBEQQAAAu4mACCJgcQIAOEQERBABCxMAwGEiIIIIWJQAAE4RARFEwIIEAHCaCIggAhYjAIAqREAEEbAQAQBUIwIiiIBFCACgKhEQQQQsQAAA1YmACCJgcgIAaEIERBABExMAQDMiIIIImJQAAJoSARFEwIQEANCcCIggAiYjAIAuREAEETARAQB0IwIiiIBJCACgKxEQQQRMQAAA3YmACCJgcAIAuIQIiCACBiYAgMuIgAgiYFACALiUCIggAgYkAIDLiYAIImAwt/v9fvUNAKWUUm632y+llN9KKb9efQvN/KOU8sf7/f6vqw9J5wUAGIaXgOX9Xkr5X+M/BgEADEUELOv3Usqf7/e77zoIAQAMRwQsx/gPSAAAQxIByzD+gxIAwLBEwPSM/8AEADA0ETAt4z84AQAMTwRMx/hPQAAAUxAB0zD+kxAAwDREwPCM/0QEADAVETAs4z8ZAQBMRwQMx/hPSAAAUxIBwzD+kxIAwLREwOWM/8QEADA1EXAZ4z85AQBMTwR0Z/wXIACAJYiAboz/IgQAsAwR0JzxX4gAAJYiApox/osRAMByREB1xn9BAgBYkgioxvgvSgAAyxIBpxn/hQkAYGki4DDjvzgBACxPBOxm/AMIACCCCNjM+IcQAEAMEfAl4x9EAABRRMBLxj+MAADiiIBPjH8gAQBEEgEfjH8oAQDEEgHGP5kAAKIFR4DxDycAgHiBEWD8EQAApURFgPGnlCIAAD4ERIDx54MAAPjOwhFg/PmBAAD4yYIRYPz5RAAAPLFQBBh/nhIAAC8sEAHGn5cEAMAbE0eA8ectAQDwhQkjwPjzJQEAsMFEEWD82UQAAGw0QQQYfzYTAAA7DBwBxp9dBADATgNGgPFnNwEAcMBAEWD8OUQAABw0QAQYfw4TAAAnXBgBxp9TBADASRdEgPHnNAEAUEHHCDD+VCEAACrpEAHGn2oEAEBFDSPA+FOVAACorEEEGH+qEwAADVSMAONPEwIAoJEKEWD8aUYAADR0IgKMP00JAIDGDkSA8ac5AQDQwY4IMP50IQAAOtkQAcafbgQAQEdvIsD405UAAOjsSQQYf7q73e/3q28AiHS73X4ppfyllPI3409v/w80Jgwryu+IjgAAAABJRU5ErkJggg==\"","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m407.579 87.677c-31.073-53.624-86.265-86.385-147.64-87.637-2.62-.054-5.257-.054-7.878 0-61.374 1.252-116.566 34.013-147.64 87.637-31.762 54.812-32.631 120.652-2.325 176.123l126.963 232.387c.057.103.114.206.173.308 5.586 9.709 15.593 15.505 26.77 15.505 11.176 0 21.183-5.797 26.768-15.505.059-.102.116-.205.173-.308l126.963-232.387c30.304-55.471 29.435-121.311-2.327-176.123zm-151.579 144.323c-39.701 0-72-32.299-72-72s32.299-72 72-72 72 32.299 72 72-32.298 72-72 72z\"\n}));\n\nfunction SvgLocationPin(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    enableBackground: \"new 0 0 512 512\",\n    height: 512,\n    viewBox: \"0 0 512 512\",\n    width: 512,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLocationPin);\nexport default __webpack_public_path__ + \"static/media/location-pin.b0cf6d28.svg\";\nexport { ForwardRef as ReactComponent };","export const formatRupiah = (angka: number, prefix = \"\") => {\n  let number_string = angka.toString(),\n    sisa = number_string.length % 3,\n    rupiah = number_string.substr(0, sisa),\n    ribuan = number_string.substr(sisa).match(/\\d{3}/gi);\n\n  if (ribuan) {\n    const separator = sisa ? \".\" : \"\";\n    rupiah += separator + ribuan.join(\".\");\n  }\n\n  return prefix === \"\" ? rupiah : prefix + rupiah;\n};\n","export const LOCAL_CART_KEY = `WHITE_TENT-CART`;\n\nexport const LOCAL_CART_SHOP_KEY = `WHITE_TENT-SHOP`;\n","import React from \"react\";\nimport { useHistory } from \"react-router\";\n\nimport BackImg from \"assets/left-chevron.png\";\n\nconst BackButton: React.FC = () => {\n  const history = useHistory();\n\n  return (\n    <div className=\"back-button-component-wrap\">\n      <img\n        className=\"left-chevron\"\n        src={BackImg}\n        alt=\"left-chevron\"\n        onClick={() => history.goBack()}\n      />\n    </div>\n  );\n};\n\nexport default BackButton;\n","import React, { useEffect, useState } from \"react\";\n\nimport \"./orderPageStyle.scss\";\nimport BackButton from \"../../components/BackButton\";\nimport { Card, CardSubtitle, CardTitle } from \"@progress/kendo-react-layout\";\nimport { ReactComponent as LocationPin } from \"assets/location-pin.svg\";\nimport {\n  ListView,\n  ListViewFooter,\n  ListViewHeader,\n} from \"@progress/kendo-react-listview\";\nimport { IMenuItemType, IOrderedItemType } from \"util/interfaces\";\nimport { formatRupiah } from \"util/utils\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { getShopDetail } from \"util/FirebaseAPI\";\nimport { createOrder } from \"util/FirebaseAPI\";\nimport { LOCAL_CART_KEY, LOCAL_CART_SHOP_KEY } from \"util/constants\";\nimport { Skeleton } from \"@progress/kendo-react-indicators\";\n\nconst OrderPage: React.FC = () => {\n  const SHOP_FEE = 3000;\n  const [orderItemObjList, setOrderItemObjList] = useState<\n    IOrderedItemType[]\n  >();\n  const [subtotalPrice, setSubtotalPrice] = useState(0);\n  const [totalSaved, setTotalSaved] = useState(0);\n  const { id }: { id: string } = useParams();\n  const [shopState, setShopState] = useState<{\n    shopName: string;\n    shopCategory: string[];\n    shopPhotoUrl: string;\n    address: string;\n    distance: number;\n  }>({\n    shopName: \"\",\n    shopCategory: [],\n    shopPhotoUrl: \"\",\n    address: \"\",\n    distance: 0,\n  });\n  const history = useHistory();\n\n  useEffect(() => {\n    const successCallback = (res: {\n      name: string;\n      photo_url: string;\n      categories: string[];\n      distance: number;\n      address: string;\n    }) => {\n      const { name, photo_url, categories, distance, address } = res;\n      setShopState({\n        shopName: name,\n        shopPhotoUrl: photo_url,\n        shopCategory: categories,\n        address: address,\n        distance,\n      });\n    };\n    const failedCallback = (err: any) => {\n      console.log(err);\n    };\n\n    const successGetLocationCallback = (pos: GeolocationPosition) => {\n      const {\n        coords: { longitude, latitude },\n      } = pos;\n      getShopDetail(\n        id,\n        { longitude, latitude },\n        successCallback,\n        failedCallback\n      );\n    };\n\n    const errorGetLocationCallback = () => {\n      console.log(\"warn error getting user's location\");\n    };\n\n    // Get user's location\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        successGetLocationCallback,\n        errorGetLocationCallback,\n        { enableHighAccuracy: true }\n      );\n    } else {\n      // When current device doesn't support getting user's location\n      console.warn(\"Geolocation is not supported by this browser\");\n    }\n  }, [id]);\n\n  useEffect(() => {\n    let orderData = localStorage.getItem(LOCAL_CART_KEY);\n    let subtotalPrice = 0;\n    let total_saved = 0;\n    if (orderData) {\n      const orderDataObj = JSON.parse(orderData);\n      const orderItemList = [];\n      for (const productId in orderDataObj) {\n        const {\n          original_price,\n          discount_price,\n          // name,\n          orderAmount,\n          // information,\n        } = orderDataObj[productId];\n        subtotalPrice += discount_price\n          ? Number(discount_price) * orderAmount\n          : Number(original_price) * orderAmount;\n\n        total_saved += discount_price ? original_price - discount_price : 0;\n\n        orderItemList.push(orderDataObj[productId]);\n      }\n      setOrderItemObjList(orderItemList);\n      setSubtotalPrice(subtotalPrice);\n      setTotalSaved(total_saved);\n      // setOrderItemObjList(JSON.parse(orderData));\n    }\n  }, []);\n\n  const itemRender = (props: any) => {\n    const dataItem: IMenuItemType = props.dataItem;\n    const {\n      orderAmount,\n      name,\n      // information,\n      discount_price,\n      original_price,\n    } = dataItem;\n    let idx = 0;\n\n    return (\n      <div className=\"order-item\" key={`${name};${idx++}`}>\n        <div className=\"left\">{orderAmount}x</div>\n        <div className=\"middle\">{name}</div>\n        <div className=\"right\">\n          {discount_price\n            ? formatRupiah(discount_price)\n            : formatRupiah(original_price)}\n        </div>\n      </div>\n    );\n  };\n\n  const header = () => {\n    return (\n      <ListViewHeader\n        className=\"menu-header\"\n        style={{ textTransform: \"capitalize\", margin: \"1rem 0 0\" }}\n      >\n        Order Summary\n      </ListViewHeader>\n    );\n  };\n\n  const footer = () => {\n    return (\n      <ListViewFooter style={{ boxShadow: \"none\", border: \"none\" }}>\n        <div className=\"top-footer\">\n          <div className=\"subtotal-row\">\n            <p>Subtotal</p>\n            <p className=\"price\">{formatRupiah(subtotalPrice)}</p>\n          </div>\n          <div className=\"subtotal-row\">\n            <p>Order fee</p>\n            <p className=\"price\">{formatRupiah(SHOP_FEE)}</p>\n          </div>\n        </div>\n        <div className=\"total-row\">\n          <p>Total</p>\n          <p className=\"price\">{formatRupiah(subtotalPrice + SHOP_FEE)}</p>\n        </div>\n      </ListViewFooter>\n    );\n  };\n\n  const handlePlaceOrder = () => {\n    const menu: any = [];\n    orderItemObjList?.forEach((item) => {\n      menu.push({\n        product_name: item.name,\n        product_id: item.product_id,\n        total_amount: item.orderAmount,\n      });\n    });\n    const payload = {\n      shop_name: shopState.shopName,\n      shop_id: id,\n      total_price: subtotalPrice + SHOP_FEE,\n      menu,\n      total_save: totalSaved,\n    };\n    createOrder(\n      payload,\n      (res: any) => {\n        localStorage.removeItem(LOCAL_CART_KEY);\n        localStorage.removeItem(LOCAL_CART_SHOP_KEY);\n        const transactionID = res.order_id;\n        history.push(\"/transaction/\" + transactionID);\n      },\n      (err: any) => {\n        console.error(err);\n      }\n    );\n  };\n  return (\n    <div className=\"order-page-container\">\n      <BackButton />\n      <Card orientation={\"horizontal\"} className=\"store-card\">\n        <div className=\"icon-wrap\">\n          <LocationPin />\n        </div>\n        <div className=\"order-middle\">\n          <CardTitle>Pick Up Location</CardTitle>\n          {shopState.shopName !== \"\" ? (\n            <CardSubtitle className=\"middle-subtitle\">\n              {shopState.address}\n            </CardSubtitle>\n          ) : (\n            <Skeleton shape=\"text\" style={{ width: 100 }} />\n          )}\n        </div>\n        <div className=\"order-right\">\n          <a href=\"/\">Set</a>\n        </div>\n      </Card>\n      {orderItemObjList && (\n        <ListView\n          data={orderItemObjList}\n          style={{ border: \"none\" }}\n          item={itemRender}\n          header={header}\n          footer={footer}\n        />\n      )}\n      <div className=\"bottom-footer\" onClick={handlePlaceOrder}>\n        Place Order\n      </div>\n    </div>\n  );\n};\n\nexport default OrderPage;\n"],"sourceRoot":""}