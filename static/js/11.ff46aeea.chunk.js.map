{"version":3,"sources":["containers/LoginPage/index.tsx"],"names":["LoginPage","useState","renderDialog","setRenderDialog","history","useHistory","useEffect","console","log","isUserLoggedIn","replace","className","src","Logo","alt","onClick","goBack","onSubmit","payload","signInWithEmailAndPassword","email","password","res","title","body","handleClose","push","err","error","message","render","formRenderProps","id","name","placeholder","type","validator","emailValidator","component","FormInput","passwordValidator","href","primary","disabled","allowSubmit"],"mappings":"6OAqHeA,UAxGa,WAAO,IAAD,EACQC,mBAAS,8BADjB,mBACzBC,EADyB,KACXC,EADW,KAE1BC,EAAUC,cAEhBC,qBAAU,WACRC,QAAQC,IAAIC,eACRA,eACFL,EAAQM,QAAQ,QAmCpB,OACE,sBAAKC,UAAU,uBAAf,UACGT,EACD,qBAAKS,UAAU,YAAf,SACE,qBACEA,UAAU,kBACVC,IAAKC,IACLC,IAAG,kBACHC,QAAS,kBAAMX,EAAQY,cAG3B,oBAAIL,UAAU,gBAAd,sBACA,qBAAKA,UAAU,iBAAf,SACE,cAAC,IAAD,CACEM,SA7Ca,SAACC,GACpBC,YACED,EAAQE,MACRF,EAAQG,UACR,SAACC,GACCnB,EACE,cAAC,IAAD,CACEoB,MAAO,UACPC,KAAM,mBACNC,YAAa,WACXrB,EAAQsB,KAAK,KACbvB,EAAgB,qCAKxB,SAACwB,GACCpB,QAAQqB,MAAM,gBAAiBD,GAC/BxB,EACE,cAAC,IAAD,CACEoB,MAAO,QACPC,KAAI,UAAKG,EAAIE,SACbJ,YAAa,WACXtB,EAAgB,sCAuBpB2B,OAAQ,SAACC,GAAD,OACN,eAAC,IAAD,WACE,cAAC,IAAD,CACEC,GAAE,QACFC,KAAI,QACJC,YAAW,QACXC,KAAM,QACNC,UAAWC,IACXC,UAAWC,MAEb,cAAC,IAAD,CACEP,GAAE,WACFC,KAAI,WACJC,YAAW,WACXC,KAAM,WACNC,UAAWI,IACXF,UAAWC,MAEb,qBAAK5B,UAAU,kBAAf,SACE,mBAAG8B,KAAK,SAAR,gCAEF,qBAAK9B,UAAU,gCAAf,SACE,cAAC,IAAD,CACEA,UAAS,mBACT+B,SAAS,EACTP,KAAM,SACNQ,UAAWZ,EAAgBa,YAJ7B,+BAaV,sBAAKjC,UAAU,yBAAf,UACE,2DACA,+BACE,mBAAGA,UAAU,eAAe8B,KAAK,UAAjC","file":"static/js/11.ff46aeea.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Form, Field, FormElement } from \"@progress/kendo-react-form\";\nimport { FormInput } from \"components/FormComponents\";\nimport { Button } from \"@progress/kendo-react-buttons\";\nimport { useHistory } from \"react-router\";\n\nimport Logo from \"assets/logo.svg\";\nimport { signInWithEmailAndPassword, isUserLoggedIn } from \"util/FirebaseAPI\";\nimport { emailValidator, passwordValidator } from \"util/validators\";\nimport DialogComponent from \"components/DialogComponent\";\n\nimport \"./loginStyle.scss\";\n\nconst LoginPage: React.FC = () => {\n  const [renderDialog, setRenderDialog] = useState(<></>);\n  const history = useHistory();\n\n  useEffect(() => {\n    console.log(isUserLoggedIn());\n    if (isUserLoggedIn()) {\n      history.replace(\"/\");\n    }\n  });\n\n  const handleSubmit = (payload: { [name: string]: any }) => {\n    signInWithEmailAndPassword(\n      payload.email,\n      payload.password,\n      (res: any) => {\n        setRenderDialog(\n          <DialogComponent\n            title={\"Success\"}\n            body={\"redirect to home\"}\n            handleClose={() => {\n              history.push(\"/\");\n              setRenderDialog(<></>);\n            }}\n          />\n        );\n      },\n      (err: any) => {\n        console.error(\"[LOGIN ERROR]\", err);\n        setRenderDialog(\n          <DialogComponent\n            title={\"Error\"}\n            body={`${err.message}`}\n            handleClose={() => {\n              setRenderDialog(<></>);\n            }}\n          />\n        );\n      }\n    );\n  };\n\n  return (\n    <div className=\"login-page-container\">\n      {renderDialog}\n      <div className=\"icon-wrap\">\n        <img\n          className=\"white-tent-logo\"\n          src={Logo}\n          alt={`white-tent-logo`}\n          onClick={() => history.goBack()}\n        />\n      </div>\n      <h1 className=\"sign-in-label\">Sign In.</h1>\n      <div className=\"form-container\">\n        <Form\n          onSubmit={handleSubmit}\n          render={(formRenderProps) => (\n            <FormElement>\n              <Field\n                id={`email`}\n                name={`email`}\n                placeholder={`email`}\n                type={\"email\"}\n                validator={emailValidator}\n                component={FormInput}\n              />\n              <Field\n                id={`password`}\n                name={`password`}\n                placeholder={`password`}\n                type={\"password\"}\n                validator={passwordValidator}\n                component={FormInput}\n              />\n              <div className=\"forgot-password\">\n                <a href=\"/login\">forgot password?</a>\n              </div>\n              <div className=\"k-form-buttons login-btn-wrap\">\n                <Button\n                  className={`login-btn-submit`}\n                  primary={true}\n                  type={\"submit\"}\n                  disabled={!formRenderProps.allowSubmit}\n                >\n                  Sign in\n                </Button>\n              </div>\n            </FormElement>\n          )}\n        />\n      </div>\n      <div className=\"dont-have-account-text\">\n        <span>Don't have an account? </span>\n        <span>\n          <a className=\"sign-up-link\" href=\"/signup\">\n            Sign Up Here\n          </a>\n        </span>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginPage;\n"],"sourceRoot":""}